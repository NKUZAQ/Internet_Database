前缀分为两类，一类是主要数据集`data_`，一类是应用会用到的表`olym_`，如comment。

本文件中加粗意味着主键。

# 1 留言表 olym_comment

由于我们的网站没有设置前台登录，只有管理员后台登录。前台只是游客浏览，因此留言没有登录的需要。

| 字段名       | 数据类型 | 是否可为空 | 其他     |
| ------------ | -------- | ---------- | -------- |
| **id**       | **int**  | **N**      | **自增** |
| name         | varchar  | Y          |          |
| email        | varchar  | Y          |          |
| created_time | varchar  | N          |          |
| words        | varchar  | N          |          |

# 2 用户表 olym_user_info

这个表是yii自动创建的，没有更改，但是只用于后台登录。

| 字段名               | 数据类型 | 是否可为空 | 其他     |
| -------------------- | -------- | ---------- | -------- |
| **id**               | **int**  | **N**      | **自增** |
| username             | varchar  | N          |          |
| auth_key             | varchar  | N          |          |
| created_time         | varchar  | N          |          |
| password_hash        | varchar  | N          |          |
| password_reset_token | varchar  | N          |          |
| email                | varchar  | N          |          |
| status               | int      | N          |          |
| created_at           | varchar  | N          |          |
| updated_at           | varchar  | N          |          |
| verication_token     | varchar  | N          |          |

# 3 团队个人信息表 olym_team_info

用于修改和发布团队信息。

| 字段名     | 数据类型    | 是否可为空 | 其他 |
| ---------- | ----------- | ---------- | ---- |
| name       | varchar     | N          |      |
| **stu_id** | **varchar** | **N**      |      |
| department | varchar     | N          |      |
| major      | varchar     | N          |      |
| other_info | varchar     | Y          |      |

# 4 东京奖牌表 data_tokyo_rank

这里将nation_code即队伍简称设置为主键是因为其相比于全称简短，同时拿rank做主键在两个国家所有奖牌情况都一样的时候会出错。

| 字段名          | 数据类型    | 是否可为空 | 其他 |
| --------------- | ----------- | ---------- | ---- |
| rank            | int         | N          |      |
| team            | varchar     | N          |      |
| gold            | int         | N          |      |
| silver          | int         | N          |      |
| bronze          | int         | N          |      |
| total           | int         | N          |      |
| **nation_code** | **varchar** | **N**      |      |
# 5 东京参赛运动员 data_tokyo_athletes

这里给id设置自增是因为原数据集没有该字段，下面的里约运动员表中原始数据集就给出了id所以不作修改。

| 字段名      | 数据类型 | 是否可为空 | 其他 |
| ----------- | -------- | ---------- | ---- |
| name        | int      | N          |      |
| nation_code | varchar  | N          | 外键 |
| discipline  | varchar  | N          |      |
| **id**      | **int**  | **N**      | 自增 |

# 6 里约奖牌表 data_rio_rank

| 字段名          | 数据类型    | 是否可为空 | 其他 |
| --------------- | ----------- | ---------- | ---- |
| rank            | int         | N          |      |
| team            | varchar     | N          |      |
| gold            | int         | N          |      |
| silver          | int         | N          |      |
| bronze          | int         | N          |      |
| total           | int         | N          |      |
| **nation_code** | **varchar** | **N**      |      |

# 7 里约参赛运动员 data_rio_athletes
| 字段名      | 数据类型    | 是否可为空 | 其他 |
| ----------- | ----------- | ---------- | ---- |
| name        | int         | N          |      |
| nation_code | varchar     | N          | 外键 |
| discipline  | varchar     | N          |      |
| **id**      | **varchar** | **N**      |      |

# 8 里约项目 data_rio_events

| 字段名      | 数据类型    | 是否可为空 | 其他 |
| ----------- | ----------- | ---------- | ---- |
| **eventid** | **varchar** | **N**      |      |
| sport       | varchar     | N          |      |
| discipline  | varchar     | N          |      |
| name        | varchar     | N          |      |
| venues      | varchar     | N          |      |

# 9 里约运动员参加项目 data_rio_participate

| 字段名      | 数据类型    | 是否可为空 | 其他 |
| ----------- | ----------- | ---------- | ---- |
| **eventid** | **varchar** | **N**      | 外键 |
| **id**      | **varchar** | **N**      | 外键 |


# 10 百年奥运会举办地 data_olympic_location

| 字段名               | 数据类型 | 是否可为空 | 其他 |
| -------------------- | -------- | ---------- | ---- |
| **year**             | **int**  | **N**      |      |
| city                 | varchar  | N          |      |

# 11 百年奥运会获奖 data_olympic_athletes

之所以使用年份、姓名、项目联合主键，是因为一个人可能多次参加奥运会，也有可能在一次奥运会不同项目都获奖。

| 字段名      | 数据类型    | 是否可为空 | 其他 |
| ----------- | ----------- | ---------- | ---- |
| **year**    | **int**     | **N**      |      |
| nation_code | varchar     | N          |      |
| **name**    | **varchar** | **N**      |      |
| sex         | varchar     | N          |      |
| **event**   | **varchar** | **N**      |      |
| medal       | varchar     | N          |      |

# 12 百年参赛国 data_olympic_country

联合主键是国家全称和年份，首先国家政权的更替会造成全称的变化，其次不同年份的nation_code可能也不一样。

| 字段名               | 数据类型 | 是否可为空 | 其他 |
| -------------------- | -------- | ---------- | ---- |
| **year**             | **int**  | **N** ||
| **country**          | **varchar** | **N**      |      |
| nation_code   | varchar  | N          | 外键 |
